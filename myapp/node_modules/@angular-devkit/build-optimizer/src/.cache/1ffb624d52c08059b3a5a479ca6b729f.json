{"remainingRequest":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\@swimlane\\ngx-charts\\release\\pie-chart\\pie-arc.component.js","dependencies":[{"path":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\@swimlane\\ngx-charts\\release\\pie-chart\\pie-arc.component.js","mtime":499162500000},{"path":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1529671348740},{"path":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1528256844000}],"contextDependencies":[],"result":["import { __decorate } from \"tslib\";\nimport { __metadata } from \"tslib\";\nimport { Component, Input, Output, EventEmitter, ElementRef, ChangeDetectionStrategy } from '@angular/core';\nimport { interpolate } from 'd3-interpolate';\nimport { select } from 'd3-selection';\nimport { arc } from 'd3-shape';\nimport { id } from '../utils/id';\nvar PieArcComponent = /** @class */ /*@__PURE__*/ (function () {\n    function PieArcComponent(element) {\n        this.startAngle = 0;\n        this.endAngle = Math.PI * 2;\n        this.cornerRadius = 0;\n        this.explodeSlices = false;\n        this.gradient = false;\n        this.animate = true;\n        this.pointerEvents = true;\n        this.isActive = false;\n        this.select = new EventEmitter();\n        this.activate = new EventEmitter();\n        this.deactivate = new EventEmitter();\n        this.dblclick = new EventEmitter();\n        this.initialized = false;\n        this.element = element.nativeElement;\n    }\n    PieArcComponent.prototype.ngOnChanges = function (changes) {\n        this.update();\n    };\n    PieArcComponent.prototype.getGradient = function () {\n        return this.gradient ? this.gradientFill : this.fill;\n    };\n    PieArcComponent.prototype.getPointerEvents = function () {\n        return this.pointerEvents ? 'auto' : 'none';\n    };\n    PieArcComponent.prototype.update = function () {\n        var calc = this.calculateArc();\n        this.path = calc.startAngle(this.startAngle).endAngle(this.endAngle)();\n        this.startOpacity = 0.5;\n        this.radialGradientId = 'linearGrad' + id().toString();\n        this.gradientFill = \"url(#\" + this.radialGradientId + \")\";\n        if (this.animate) {\n            if (this.initialized) {\n                this.updateAnimation();\n            }\n            else {\n                this.loadAnimation();\n                this.initialized = true;\n            }\n        }\n    };\n    PieArcComponent.prototype.calculateArc = function () {\n        var outerRadius = this.outerRadius;\n        if (this.explodeSlices && this.innerRadius === 0) {\n            outerRadius = this.outerRadius * this.value / this.max;\n        }\n        return arc()\n            .innerRadius(this.innerRadius)\n            .outerRadius(outerRadius)\n            .cornerRadius(this.cornerRadius);\n    };\n    PieArcComponent.prototype.loadAnimation = function () {\n        var node = select(this.element)\n            .selectAll('.arc')\n            .data([{ startAngle: this.startAngle, endAngle: this.endAngle }]);\n        var calc = this.calculateArc();\n        node\n            .transition()\n            .attrTween('d', function (d) {\n            this._current = this._current || d;\n            var copyOfD = Object.assign({}, d);\n            copyOfD.endAngle = copyOfD.startAngle;\n            var interpolater = interpolate(copyOfD, copyOfD);\n            this._current = interpolater(0);\n            return function (t) {\n                return calc(interpolater(t));\n            };\n        })\n            .transition().duration(750)\n            .attrTween('d', function (d) {\n            this._current = this._current || d;\n            var interpolater = interpolate(this._current, d);\n            this._current = interpolater(0);\n            return function (t) {\n                return calc(interpolater(t));\n            };\n        });\n    };\n    PieArcComponent.prototype.updateAnimation = function () {\n        var node = select(this.element)\n            .selectAll('.arc')\n            .data([{ startAngle: this.startAngle, endAngle: this.endAngle }]);\n        var calc = this.calculateArc();\n        node\n            .transition().duration(750)\n            .attrTween('d', function (d) {\n            this._current = this._current || d;\n            var interpolater = interpolate(this._current, d);\n            this._current = interpolater(0);\n            return function (t) {\n                return calc(interpolater(t));\n            };\n        });\n    };\n    PieArcComponent.prototype.onClick = function () {\n        var _this = this;\n        clearTimeout(this._timeout);\n        this._timeout = setTimeout(function () { return _this.select.emit(_this.data); }, 200);\n    };\n    PieArcComponent.prototype.onDblClick = function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        clearTimeout(this._timeout);\n        this.dblclick.emit({\n            data: this.data,\n            nativeEvent: event\n        });\n    };\n    return PieArcComponent;\n}());\nexport { PieArcComponent };\n//# sourceMappingURL=pie-arc.component.js.map\n",null]}