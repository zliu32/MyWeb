{"remainingRequest":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\ng-pick-datetime\\date-time\\calendar-multi-year-view.component.js","dependencies":[{"path":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\ng-pick-datetime\\date-time\\calendar-multi-year-view.component.js","mtime":1529904269000},{"path":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1529671348740},{"path":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1528256844000}],"contextDependencies":[],"result":["import { ChangeDetectionStrategy, Component, EventEmitter, HostBinding, Input, Optional, Output, ViewChild } from '@angular/core';\nimport { DateTimeAdapter } from './adapter/date-time-adapter.class';\nimport { CalendarCell, OwlCalendarBodyComponent } from './calendar-body.component';\nimport { DOWN_ARROW, END, ENTER, HOME, LEFT_ARROW, PAGE_DOWN, PAGE_UP, RIGHT_ARROW, UP_ARROW } from '@angular/cdk/keycodes';\nimport { OwlDateTimeIntl } from './date-time-picker-intl.service';\nexport var YEARS_PER_ROW = 3;\nexport var YEAR_ROWS = 7;\nvar OwlMultiYearViewComponent = /*@__PURE__*/ (function () {\n    function OwlMultiYearViewComponent(pickerIntl, dateTimeAdapter) {\n        this.pickerIntl = pickerIntl;\n        this.dateTimeAdapter = dateTimeAdapter;\n        this._selecteds = [];\n        this.initiated = false;\n        this.selectedChange = new EventEmitter();\n        this.yearSelected = new EventEmitter();\n        this.pickerMomentChange = new EventEmitter();\n        this.keyboardEnter = new EventEmitter();\n    }\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"selected\", {\n        get: function () {\n            return this._selected;\n        },\n        set: function (value) {\n            var oldSelected = this._selected;\n            value = this.dateTimeAdapter.deserialize(value);\n            this._selected = this.getValidDate(value);\n            if (!this.dateTimeAdapter.isSameDay(oldSelected, this._selected)) {\n                this.setSelectedYears();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"selecteds\", {\n        get: function () {\n            return this._selecteds;\n        },\n        set: function (values) {\n            var _this = this;\n            this._selecteds = values.map(function (v) {\n                v = _this.dateTimeAdapter.deserialize(v);\n                return _this.getValidDate(v);\n            });\n            this.setSelectedYears();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"pickerMoment\", {\n        get: function () {\n            return this._pickerMoment;\n        },\n        set: function (value) {\n            var oldMoment = this._pickerMoment;\n            value = this.dateTimeAdapter.deserialize(value);\n            this._pickerMoment = this.getValidDate(value) || this.dateTimeAdapter.now();\n            if (oldMoment && this._pickerMoment &&\n                !this.isSameYearList(oldMoment, this._pickerMoment)) {\n                this.generateYearList();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"dateFilter\", {\n        get: function () {\n            return this._dateFilter;\n        },\n        set: function (filter) {\n            this._dateFilter = filter;\n            if (this.initiated) {\n                this.generateYearList();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"minDate\", {\n        get: function () {\n            return this._minDate;\n        },\n        set: function (value) {\n            value = this.dateTimeAdapter.deserialize(value);\n            this._minDate = this.getValidDate(value);\n            if (this.initiated) {\n                this.generateYearList();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"maxDate\", {\n        get: function () {\n            return this._maxDate;\n        },\n        set: function (value) {\n            value = this.dateTimeAdapter.deserialize(value);\n            this._maxDate = this.getValidDate(value);\n            if (this.initiated) {\n                this.generateYearList();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"todayYear\", {\n        get: function () {\n            return this._todayYear;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"years\", {\n        get: function () {\n            return this._years;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"selectedYears\", {\n        get: function () {\n            return this._selectedYears;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"isInSingleMode\", {\n        get: function () {\n            return this.selectMode === 'single';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"isInRangeMode\", {\n        get: function () {\n            return this.selectMode === 'range' || this.selectMode === 'rangeFrom'\n                || this.selectMode === 'rangeTo';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"activeCell\", {\n        get: function () {\n            if (this._pickerMoment) {\n                return this.dateTimeAdapter.getYear(this._pickerMoment) % (YEARS_PER_ROW * YEAR_ROWS);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"tableHeader\", {\n        get: function () {\n            if (this._years && this._years.length > 0) {\n                return this._years[0][0].displayValue + \" ~ \" + this._years[YEAR_ROWS - 1][YEARS_PER_ROW - 1].displayValue;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"prevButtonLabel\", {\n        get: function () {\n            return this.pickerIntl.prevMultiYearLabel;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"nextButtonLabel\", {\n        get: function () {\n            return this.pickerIntl.nextMultiYearLabel;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"owlDTCalendarView\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OwlMultiYearViewComponent.prototype, \"owlDTCalendarMultiYearView\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OwlMultiYearViewComponent.prototype.ngOnInit = function () {\n    };\n    OwlMultiYearViewComponent.prototype.ngAfterContentInit = function () {\n        this._todayYear = this.dateTimeAdapter.getYear(this.dateTimeAdapter.now());\n        this.generateYearList();\n        this.initiated = true;\n    };\n    OwlMultiYearViewComponent.prototype.selectCalendarCell = function (cell) {\n        this.selectYear(cell.value);\n    };\n    OwlMultiYearViewComponent.prototype.selectYear = function (year) {\n        this.yearSelected.emit(this.dateTimeAdapter.createDate(year, 0, 1));\n        var firstDateOfMonth = this.dateTimeAdapter.createDate(year, this.dateTimeAdapter.getMonth(this.pickerMoment), 1);\n        var daysInMonth = this.dateTimeAdapter.getNumDaysInMonth(firstDateOfMonth);\n        var selected = this.dateTimeAdapter.createDate(year, this.dateTimeAdapter.getMonth(this.pickerMoment), Math.min(daysInMonth, this.dateTimeAdapter.getDate(this.pickerMoment)), this.dateTimeAdapter.getHours(this.pickerMoment), this.dateTimeAdapter.getMinutes(this.pickerMoment), this.dateTimeAdapter.getSeconds(this.pickerMoment));\n        this.selectedChange.emit(selected);\n    };\n    OwlMultiYearViewComponent.prototype.prevYearList = function (event) {\n        this._pickerMoment = this.dateTimeAdapter.addCalendarYears(this.pickerMoment, -1 * YEAR_ROWS * YEARS_PER_ROW);\n        this.generateYearList();\n        event.preventDefault();\n    };\n    OwlMultiYearViewComponent.prototype.nextYearList = function (event) {\n        this._pickerMoment = this.dateTimeAdapter.addCalendarYears(this.pickerMoment, YEAR_ROWS * YEARS_PER_ROW);\n        this.generateYearList();\n        event.preventDefault();\n    };\n    OwlMultiYearViewComponent.prototype.generateYearList = function () {\n        this._years = [];\n        var pickerMomentYear = this.dateTimeAdapter.getYear(this._pickerMoment);\n        var offset = pickerMomentYear % (YEARS_PER_ROW * YEAR_ROWS);\n        for (var i = 0; i < YEAR_ROWS; i++) {\n            var row = [];\n            for (var j = 0; j < YEARS_PER_ROW; j++) {\n                var year = pickerMomentYear - offset + (j + i * YEARS_PER_ROW);\n                var yearCell = this.createYearCell(year);\n                row.push(yearCell);\n            }\n            this._years.push(row);\n        }\n        return;\n    };\n    OwlMultiYearViewComponent.prototype.previousEnabled = function () {\n        if (!this.minDate) {\n            return true;\n        }\n        return !this.minDate || !this.isSameYearList(this._pickerMoment, this.minDate);\n    };\n    OwlMultiYearViewComponent.prototype.nextEnabled = function () {\n        return !this.maxDate || !this.isSameYearList(this._pickerMoment, this.maxDate);\n    };\n    OwlMultiYearViewComponent.prototype.handleCalendarKeydown = function (event) {\n        var moment;\n        switch (event.keyCode) {\n            case LEFT_ARROW:\n                moment = this.dateTimeAdapter.addCalendarYears(this._pickerMoment, -1);\n                this.pickerMomentChange.emit(moment);\n                break;\n            case RIGHT_ARROW:\n                moment = this.dateTimeAdapter.addCalendarYears(this._pickerMoment, 1);\n                this.pickerMomentChange.emit(moment);\n                break;\n            case UP_ARROW:\n                moment = this.dateTimeAdapter.addCalendarYears(this._pickerMoment, -1 * YEARS_PER_ROW);\n                this.pickerMomentChange.emit(moment);\n                break;\n            case DOWN_ARROW:\n                moment = this.dateTimeAdapter.addCalendarYears(this._pickerMoment, YEARS_PER_ROW);\n                this.pickerMomentChange.emit(moment);\n                break;\n            case HOME:\n                moment = this.dateTimeAdapter.addCalendarYears(this._pickerMoment, -this.dateTimeAdapter.getYear(this._pickerMoment) % (YEARS_PER_ROW * YEAR_ROWS));\n                this.pickerMomentChange.emit(moment);\n                break;\n            case END:\n                moment = this.dateTimeAdapter.addCalendarYears(this._pickerMoment, (YEARS_PER_ROW * YEAR_ROWS) - this.dateTimeAdapter.getYear(this._pickerMoment) % (YEARS_PER_ROW * YEAR_ROWS) - 1);\n                this.pickerMomentChange.emit(moment);\n                break;\n            case PAGE_UP:\n                moment = this.dateTimeAdapter.addCalendarYears(this.pickerMoment, event.altKey ? -10 * (YEARS_PER_ROW * YEAR_ROWS) : -1 * (YEARS_PER_ROW * YEAR_ROWS));\n                this.pickerMomentChange.emit(moment);\n                break;\n            case PAGE_DOWN:\n                moment = this.dateTimeAdapter.addCalendarYears(this.pickerMoment, event.altKey ? 10 * (YEARS_PER_ROW * YEAR_ROWS) : (YEARS_PER_ROW * YEAR_ROWS));\n                this.pickerMomentChange.emit(moment);\n                break;\n            case ENTER:\n                this.selectYear(this.dateTimeAdapter.getYear(this._pickerMoment));\n                this.keyboardEnter.emit();\n                break;\n            default:\n                return;\n        }\n        this.focusActiveCell();\n        event.preventDefault();\n    };\n    OwlMultiYearViewComponent.prototype.createYearCell = function (year) {\n        var startDateOfYear = this.dateTimeAdapter.createDate(year, 0, 1);\n        var ariaLabel = this.dateTimeAdapter.getYearName(startDateOfYear);\n        var cellClass = 'owl-dt-year-' + year;\n        return new CalendarCell(year, year.toString(), ariaLabel, this.isYearEnabled(year), false, cellClass);\n    };\n    OwlMultiYearViewComponent.prototype.setSelectedYears = function () {\n        var _this = this;\n        this._selectedYears = [];\n        if (this.isInSingleMode && this.selected) {\n            this._selectedYears[0] = this.dateTimeAdapter.getYear(this.selected);\n        }\n        if (this.isInRangeMode && this.selecteds) {\n            this._selectedYears = this.selecteds.map(function (selected) {\n                if (_this.dateTimeAdapter.isValid(selected)) {\n                    return _this.dateTimeAdapter.getYear(selected);\n                }\n                else {\n                    return null;\n                }\n            });\n        }\n    };\n    OwlMultiYearViewComponent.prototype.isYearEnabled = function (year) {\n        if (year === undefined || year === null ||\n            (this.maxDate && year > this.dateTimeAdapter.getYear(this.maxDate)) ||\n            (this.minDate && year < this.dateTimeAdapter.getYear(this.minDate))) {\n            return false;\n        }\n        if (!this.dateFilter) {\n            return true;\n        }\n        var firstOfYear = this.dateTimeAdapter.createDate(year, 0, 1);\n        for (var date = firstOfYear; this.dateTimeAdapter.getYear(date) == year; date = this.dateTimeAdapter.addCalendarDays(date, 1)) {\n            if (this.dateFilter(date)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    OwlMultiYearViewComponent.prototype.isSameYearList = function (date1, date2) {\n        return Math.floor(this.dateTimeAdapter.getYear(date1) / (YEARS_PER_ROW * YEAR_ROWS)) ===\n            Math.floor(this.dateTimeAdapter.getYear(date2) / (YEARS_PER_ROW * YEAR_ROWS));\n    };\n    OwlMultiYearViewComponent.prototype.getValidDate = function (obj) {\n        return (this.dateTimeAdapter.isDateInstance(obj) && this.dateTimeAdapter.isValid(obj)) ? obj : null;\n    };\n    OwlMultiYearViewComponent.prototype.focusActiveCell = function () {\n        this.calendarBodyElm.focusActiveCell();\n    };\n    return OwlMultiYearViewComponent;\n}());\nexport { OwlMultiYearViewComponent };\n",null]}