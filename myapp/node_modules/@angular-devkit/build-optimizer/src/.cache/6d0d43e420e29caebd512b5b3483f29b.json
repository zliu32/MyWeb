{"remainingRequest":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\@swimlane\\ngx-charts\\release\\tree-map\\tree-map-cell.component.js","dependencies":[{"path":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\@swimlane\\ngx-charts\\release\\tree-map\\tree-map-cell.component.js","mtime":499162500000},{"path":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1529671348740},{"path":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1528256844000}],"contextDependencies":[],"result":["import { __decorate } from \"tslib\";\nimport { __metadata } from \"tslib\";\nimport { Component, Input, Output, EventEmitter, ElementRef, ChangeDetectionStrategy } from '@angular/core';\nimport { select } from 'd3-selection';\nimport { invertColor } from '../utils/color-utils';\nimport { trimLabel } from '../common/trim-label.helper';\nimport { id } from '../utils/id';\nvar TreeMapCellComponent = /** @class */ /*@__PURE__*/ (function () {\n    function TreeMapCellComponent(element) {\n        this.gradient = false;\n        this.animations = true;\n        this.select = new EventEmitter();\n        this.initialized = false;\n        this.element = element.nativeElement;\n    }\n    TreeMapCellComponent.prototype.ngOnChanges = function () {\n        this.update();\n        this.valueFormatting = this.valueFormatting || (function (cell) { return cell.value.toLocaleString(); });\n        var labelFormatting = this.labelFormatting || (function (cell) { return trimLabel(cell.label, 55); });\n        var cellData = {\n            data: this.data,\n            label: this.label,\n            value: this.value\n        };\n        this.formattedValue = this.valueFormatting(cellData);\n        this.formattedLabel = labelFormatting(cellData);\n        this.gradientId = 'grad' + id().toString();\n        this.gradientUrl = \"url(#\" + this.gradientId + \")\";\n        this.gradientStops = this.getGradientStops();\n    };\n    TreeMapCellComponent.prototype.update = function () {\n        if (this.initialized) {\n            this.animateToCurrentForm();\n        }\n        else {\n            if (this.animations) {\n                this.loadAnimation();\n            }\n            this.initialized = true;\n        }\n    };\n    TreeMapCellComponent.prototype.loadAnimation = function () {\n        var node = select(this.element).select('.cell');\n        node\n            .attr('opacity', 0)\n            .attr('x', this.x)\n            .attr('y', this.y);\n        this.animateToCurrentForm();\n    };\n    TreeMapCellComponent.prototype.getTextColor = function () {\n        return invertColor(this.fill);\n    };\n    TreeMapCellComponent.prototype.animateToCurrentForm = function () {\n        var node = select(this.element).select('.cell');\n        if (this.animations) {\n            node.transition().duration(750)\n                .attr('opacity', 1)\n                .attr('x', this.x)\n                .attr('y', this.y)\n                .attr('width', this.width)\n                .attr('height', this.height);\n        }\n        else {\n            node\n                .attr('opacity', 1)\n                .attr('x', this.x)\n                .attr('y', this.y)\n                .attr('width', this.width)\n                .attr('height', this.height);\n        }\n    };\n    TreeMapCellComponent.prototype.onClick = function () {\n        this.select.emit({\n            name: this.label,\n            value: this.value\n        });\n    };\n    TreeMapCellComponent.prototype.getGradientStops = function () {\n        return [\n            {\n                offset: 0,\n                color: this.fill,\n                opacity: 0.3\n            },\n            {\n                offset: 100,\n                color: this.fill,\n                opacity: 1\n            }\n        ];\n    };\n    return TreeMapCellComponent;\n}());\nexport { TreeMapCellComponent };\n//# sourceMappingURL=tree-map-cell.component.js.map\n",null]}