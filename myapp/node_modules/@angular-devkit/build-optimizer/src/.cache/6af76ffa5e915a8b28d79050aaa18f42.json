{"remainingRequest":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\@swimlane\\ngx-charts\\release\\tree-map\\tree-map.component.js","dependencies":[{"path":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\@swimlane\\ngx-charts\\release\\tree-map\\tree-map.component.js","mtime":499162500000},{"path":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1529671348740},{"path":"C:\\Users\\Frank Liu\\Documents\\Github\\MyWeb\\myapp\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1528256844000}],"contextDependencies":[],"result":["import { __extends } from \"tslib\";\nimport { __decorate } from \"tslib\";\nimport { __metadata } from \"tslib\";\nimport { Component, Input, Output, EventEmitter, ViewEncapsulation, ChangeDetectionStrategy, ContentChild, TemplateRef } from '@angular/core';\nimport { treemap, stratify } from 'd3-hierarchy';\nimport { BaseChartComponent } from '../common/base-chart.component';\nimport { calculateViewDimensions } from '../common/view-dimensions.helper';\nimport { ColorHelper } from '../common/color.helper';\nvar TreeMapComponent = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(TreeMapComponent, _super);\n    function TreeMapComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.tooltipDisabled = false;\n        _this.gradient = false;\n        _this.select = new EventEmitter();\n        _this.margin = [10, 10, 10, 10];\n        return _this;\n    }\n    TreeMapComponent.prototype.update = function () {\n        _super.prototype.update.call(this);\n        this.dims = calculateViewDimensions({\n            width: this.width,\n            height: this.height,\n            margins: this.margin\n        });\n        this.domain = this.getDomain();\n        this.treemap = treemap()\n            .size([this.dims.width, this.dims.height]);\n        var rootNode = {\n            name: 'root',\n            value: 0,\n            isRoot: true\n        };\n        var root = stratify()\n            .id(function (d) {\n            var label = d.name;\n            if (label.constructor.name === 'Date') {\n                label = label.toLocaleDateString();\n            }\n            else {\n                label = label.toLocaleString();\n            }\n            return label;\n        })\n            .parentId(function (d) { return d.isRoot ? null : 'root'; })([rootNode].concat(this.results))\n            .sum(function (d) { return d.value; });\n        this.data = this.treemap(root);\n        this.setColors();\n        this.transform = \"translate(\" + this.dims.xOffset + \" , \" + this.margin[0] + \")\";\n    };\n    TreeMapComponent.prototype.getDomain = function () {\n        return this.results.map(function (d) { return d.name; });\n    };\n    TreeMapComponent.prototype.onClick = function (data) {\n        this.select.emit(data);\n    };\n    TreeMapComponent.prototype.setColors = function () {\n        this.colors = new ColorHelper(this.scheme, 'ordinal', this.domain, this.customColors);\n    };\n    return TreeMapComponent;\n}(BaseChartComponent));\nexport { TreeMapComponent };\n//# sourceMappingURL=tree-map.component.js.map\n",null]}